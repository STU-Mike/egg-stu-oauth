(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{172:function(t,e,n){"use strict";n.r(e);var _=n(0),a=Object(_.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"接口文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#接口文档","aria-hidden":"true"}},[t._v("#")]),t._v(" 接口文档")]),t._v(" "),n("h2",{attrs:{id:"用户登录的接口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用户登录的接口","aria-hidden":"true"}},[t._v("#")]),t._v(" 用户登录的接口")]),t._v(" "),n("p",[n("strong",[t._v("简要描述：")])]),t._v(" "),n("ul",[n("li",[t._v("用户登录的接口，该接口为"),n("strong",[t._v("内部接口")]),t._v("，不应向外暴露")])]),t._v(" "),n("p",[n("strong",[t._v("请求URL：")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("/oauth/login")])])]),t._v(" "),n("p",[n("strong",[t._v("请求方式：")])]),t._v(" "),n("ul",[n("li",[t._v("post")])]),t._v(" "),n("p",[n("strong",[t._v("参数：")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("是否必选")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("account")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("用户名")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("password")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("密码")])])])]),t._v(" "),n("p",[n("strong",[t._v("返回示例")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n  "code":"0"\n}\n')])])]),n("p",[n("strong",[t._v("返回参数说明")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("code")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("错误码，0为请求正常")])])])]),t._v(" "),n("p",[n("strong",[t._v("Session")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("参数名")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("user_id")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("用户id")])])])]),t._v(" "),n("p",[n("strong",[t._v("备注")])]),t._v(" "),n("ul",[n("li",[t._v("无")])]),t._v(" "),n("h2",{attrs:{id:"用户授权"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用户授权","aria-hidden":"true"}},[t._v("#")]),t._v(" 用户授权")]),t._v(" "),n("p",[n("strong",[t._v("简要描述：")])]),t._v(" "),n("ul",[n("li",[t._v("用户授权的接口，授权成功后返回authorization_code")])]),t._v(" "),n("p",[n("strong",[t._v("请求URL：")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("/oauth/authorise")])])]),t._v(" "),n("p",[n("strong",[t._v("请求方式：")])]),t._v(" "),n("ul",[n("li",[t._v("get")])]),t._v(" "),n("p",[n("strong",[t._v("参数：")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("是否必选")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("response_type")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("授权类型,固定为code")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("client_id")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("客户端的ID")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("redirect_uri")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("用户授权成功后重定向的uri")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("state")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("可选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("客户端的当前状态，可以指定任意值，认证服务器会原封不动地返回这个值")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("scope")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("可选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("申请的权限范围")])])])]),t._v(" "),n("p",[n("strong",[t._v("备注")])]),t._v(" "),n("ul",[n("li",[t._v("重定向到redirect_uri，并带上authorization_code，state值不变")])]),t._v(" "),n("h2",{attrs:{id:"换取凭证"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#换取凭证","aria-hidden":"true"}},[t._v("#")]),t._v(" 换取凭证")]),t._v(" "),n("p",[n("strong",[t._v("简要描述：")])]),t._v(" "),n("ul",[n("li",[t._v("换取凭证，authorization_code 换取access_token和refresh_token")])]),t._v(" "),n("p",[n("strong",[t._v("请求URL：")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("/oauth/token")])])]),t._v(" "),n("p",[n("strong",[t._v("请求方式：")])]),t._v(" "),n("ul",[n("li",[t._v("POST")])]),t._v(" "),n("p",[n("strong",[t._v("参数：")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("grant_type")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("固定值“authorization_code ”")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("code")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("authorization_code  ，授权码")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("redirect_uri")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("用户授权成功后重定向的uri")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("client_id")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("客户端ID")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("client_secret")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("客户端秘钥")])])])]),t._v(" "),n("p",[n("strong",[t._v("返回示例")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n    "client": {\n        "id": "syllabus-app",\n        "redirectUris": [\n            "http://no_redirect_uri.com"\n        ],\n        "grants": [\n            "refresh_token",\n            "authorization_code"\n        ],\n        "scope": [\n            "*"\n        ],\n        "banScope": []\n    },\n    "user": {\n        "id": "17jwmai2",\n        "info": null\n    },\n    "accessToken": "3382d08b7d365f655f81d5fb98aff4066868ad10",\n    "accessTokenExpiresAt": "2019-04-14T02:49:44.538Z",\n    "refreshToken": "b55aba5bb1255a63907bc0db30cf2a133658c852",\n    "refreshTokenExpiresAt": "2019-05-13T06:25:29.000Z",\n    "scope": "get_syllabus",\n    "code": "0"\n}\n')])])]),n("p",[n("strong",[t._v("返回参数说明")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("client")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Object")]),t._v(" "),n("td",[t._v("客户端信息")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("user")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Object")]),t._v(" "),n("td",[t._v("用户信息")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("accessToken")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("accessToken，访问令牌")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("accessTokenExpiresAt")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("accessToken有效期")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("refreshToken")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("refreshToken,刷新令牌")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("refreshTokenExpiresAt")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("refreshToken有效期")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("scope")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("申请的权限范围")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("code")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("错误码，0为请求正常")])])])]),t._v(" "),n("p",[n("strong",[t._v("备注")])]),t._v(" "),n("ul",[n("li",[t._v("更多返回错误代码请看首页的错误代码描述")])]),t._v(" "),n("h2",{attrs:{id:"刷新凭证"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#刷新凭证","aria-hidden":"true"}},[t._v("#")]),t._v(" 刷新凭证")]),t._v(" "),n("p",[n("strong",[t._v("简要描述：")])]),t._v(" "),n("ul",[n("li",[t._v("刷新凭证，使用refresh_token刷新access_token和refresh_token")])]),t._v(" "),n("p",[n("strong",[t._v("请求URL：")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("/oauth/token")])])]),t._v(" "),n("p",[n("strong",[t._v("请求方式：")])]),t._v(" "),n("ul",[n("li",[t._v("POST")])]),t._v(" "),n("p",[n("strong",[t._v("参数：")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("grant_type")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v('固定值"refresh_token"')])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("refresh_token")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("refresh_token，刷新令牌")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("access_token")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("access_token，访问令牌")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("client_id")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("客户端ID")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("client_secret")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("string 客户端秘钥")])])])]),t._v(" "),n("p",[n("strong",[t._v("返回示例")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n    "client": {\n        "id": "syllabus-app",\n        "redirectUris": [\n            "http://no_redirect_uri.com"\n        ],\n        "grants": [\n            "refresh_token",\n            "authorization_code"\n        ],\n        "scope": [\n            "*"\n        ],\n        "banScope": []\n    },\n    "user": {\n        "id": "17jwmai2",\n        "info": null,\n        "created_at": "2019-04-05",\n        "updated_at": "2019-04-05",\n        "grant_type": "refresh_token"\n    },\n    "accessToken": "266b472615197c3c099d2c7aa239313d92a5484e",\n    "accessTokenExpiresAt": "2019-04-14T03:19:04.289Z",\n    "refreshToken": "b251ff67daef71e38a2e7497809b454611886d5e",\n    "refreshTokenExpiresAt": "2019-05-14T02:19:04.289Z",\n    "scope": "get_syllabus",\n    "code": "0"\n}\n')])])]),n("p",[n("strong",[t._v("返回参数说明")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("client")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Object")]),t._v(" "),n("td",[t._v("客户端信息")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("user")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Object")]),t._v(" "),n("td",[t._v("用户信息")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("accessToken")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("accessToken，访问令牌")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("accessTokenExpiresAt")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("accessToken有效期")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("refreshToken")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("refreshToken,刷新令牌")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("refreshTokenExpiresAt")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("refreshToken有效期")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("scope")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("申请的权限范围")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("code")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("错误码，0为请求正常")])])])]),t._v(" "),n("p",[n("strong",[t._v("备注")])]),t._v(" "),n("h2",{attrs:{id:"静态页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#静态页面","aria-hidden":"true"}},[t._v("#")]),t._v(" 静态页面")]),t._v(" "),n("p",[n("strong",[t._v("简要描述：")])]),t._v(" "),n("ul",[n("li",[t._v("访问指定的静态页面")])]),t._v(" "),n("p",[n("strong",[t._v("请求URL：")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("/view/<view-name>")])])]),t._v(" "),n("p",[n("strong",[t._v("请求方式：")])]),t._v(" "),n("ul",[n("li",[t._v("GET")])]),t._v(" "),n("p",[n("strong",[t._v("参数：")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("view-name")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("页面名字，静态页面放在/app/view目录下,暂时有 authorise、callback-app、login 这几个页面")])])])]),t._v(" "),n("p",[n("strong",[t._v("返回示例")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v(' \x3c!--汕头大学校园网账号登录界面--\x3e\n<!DOCTYPE html>\n<html lang="en">\n    <head>\n        <meta charset="UTF-8">\n        <title>Login</title>\n    </head>\n    <body>\n\n登录\n\n        <div>账号：\n            <input type="text" id="account">\n        </div>\n        <div>密码：\n            <input type="password" id="password">\n        </div>\n        <button id="login">登录</button>\n    </body>\n</html>\n<script>\n    let button = document.getElementById(\'login\')\n    // console.log(window.location.search);\n\n\n    button.onclick = () => {\n        // 登录，验证密码正确性\n        let user_id = 123\n        let account = document.getElementById("account").value,\n            password = document.getElementById("password").value\n        console.log(account)\n        ajaxPost(\'/oauth/login\',\'account=\'+account+\'&password=\'+password,(responseText)=>{\n            console.log(responseText)\n            responseText=JSON.parse(responseText)\n            if(responseText.code === \'0\'){\n                window.location.href = \'/view/authorise\' + window.location.search\n            }\n        })\n        // ajax 对象\n        function ajaxObject() {\n            var xmlHttp;\n            try {\n                // Firefox, Opera 8.0+, Safari\n                xmlHttp = new XMLHttpRequest();\n            }\n            catch (e) {\n                // Internet Explorer\n                try {\n                    xmlHttp = new ActiveXObject("Msxml2.XMLHTTP");\n                } catch (e) {\n                    try {\n                        xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");\n                    } catch (e) {\n                        alert("您的浏览器不支持AJAX！");\n                        return false;\n                    }\n                }\n            }\n            return xmlHttp;\n        }\n\n        // ajax post请求：\n        function ajaxPost(url, data, fnSucceed, fnFail, fnLoading) {\n            var ajax = ajaxObject();\n            ajax.open("post", url, true);\n            ajax.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");\n            ajax.onreadystatechange = function () {\n                if (ajax.readyState === 4) {\n                    if (ajax.status === 200) {\n                        fnSucceed(ajax.responseText);\n                    }\n                    else {\n                        fnFail("HTTP请求错误！错误码：" + ajax.status);\n                    }\n                }\n            }\n            ajax.send(data);\n\n        }\n    }\n<\/script>\n')])])]),n("p",[n("strong",[t._v("返回参数说明")]),t._v("\n静态页面")]),t._v(" "),n("p",[n("strong",[t._v("备注")])]),t._v(" "),n("h2",{attrs:{id:"获取课程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取课程","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取课程")]),t._v(" "),n("p",[n("strong",[t._v("简要描述：")])]),t._v(" "),n("ul",[n("li",[t._v("获取用户课程")])]),t._v(" "),n("p",[n("strong",[t._v("请求URL：")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("/user/lesson")])])]),t._v(" "),n("p",[n("strong",[t._v("请求方式：")])]),t._v(" "),n("ul",[n("li",[t._v("GET")])]),t._v(" "),n("p",[n("strong",[t._v("参数：")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("year")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("学年")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("semester")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("学期")])])])]),t._v(" "),n("p",[n("strong",[t._v("注意")]),t._v("：该参数在headers处传入")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Authorization")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("传参格式："),n("code",[t._v("Bearer AccessToken")]),t._v("，中间用空格隔开，其中AccessToken为访问令牌")])])])]),t._v(" "),n("p",[n("strong",[t._v("返回示例")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n    "year": 2015,\n    "semester": 1,\n    "lessons": [\n        {\n            "id": "79654",\n            "name": "[CIS6031A]汕大整合思维",\n            "teacher": "Wai-man Kwok/孙金峰/王雨函",\n            "credit": "2.0",\n            "schedule": [\n                {\n                    "time": "8",\n                    "begin_time": 16,\n                    "end_time": 16.45,\n                    "day": 4,\n                    "room": "讲堂一",\n                    "week": 65535\n                },\n                {\n                    "time": "12",\n                    "begin_time": 8,\n                    "end_time": 9.4,\n                    "day": 3,\n                    "room": "D209",\n                    "week": 65535\n                }\n            ]\n        },\n        {\n            "id": "80933",\n            "name": "[CST1301A]程序设计基础",\n            "teacher": "于津",\n            "credit": "4.0",\n            "schedule": [\n                {\n                    "time": "89",\n                    "begin_time": 16,\n                    "end_time": 17.4,\n                    "day": 1,\n                    "room": "E201-1",\n                    "week": 65535\n                },\n                {\n                    "time": "67",\n                    "begin_time": 14,\n                    "end_time": 15.4,\n                    "day": 4,\n                    "room": "E201-1",\n                    "week": 65535\n                }\n            ]\n        },\n        {\n            "id": "80935",\n            "name": "[CST1307A]线性代数",\n            "teacher": "廖海泳",\n            "credit": "2.0",\n            "schedule": [\n                {\n                    "time": "12",\n                    "begin_time": 8,\n                    "end_time": 9.4,\n                    "day": 2,\n                    "room": "E309",\n                    "week": 65535\n                }\n            ]\n        },\n        {\n            "id": "80934",\n            "name": "[CST1501A]计算科学导论",\n            "teacher": "蔡玲如",\n            "credit": "2.0",\n            "schedule": [\n                {\n                    "time": "89",\n                    "begin_time": 16,\n                    "end_time": 17.4,\n                    "day": 5,\n                    "room": "E208",\n                    "week": 65535\n                }\n            ]\n        },\n        {\n            "id": "79694",\n            "name": "[ELC1]英语(ELC1)",\n            "teacher": "卫恩",\n            "credit": "4.0",\n            "schedule": [\n                {\n                    "time": "34",\n                    "begin_time": 10,\n                    "end_time": 11.4,\n                    "day": 3,\n                    "room": "D206",\n                    "week": 65535\n                },\n                {\n                    "time": "12",\n                    "begin_time": 8,\n                    "end_time": 9.4,\n                    "day": 5,\n                    "room": "D206",\n                    "week": 65535\n                }\n            ]\n        },\n        {\n            "id": "80645",\n            "name": "[ENC1101A]工程设计导论",\n            "teacher": "陆小华",\n            "credit": "2.0",\n            "schedule": [\n                {\n                    "time": "双67",\n                    "begin_time": 14,\n                    "end_time": 15.4,\n                    "day": 1,\n                    "room": "E301",\n                    "week": 43690\n                }\n            ]\n        },\n        {\n            "id": "80649",\n            "name": "[ENC1102A]化学导论",\n            "teacher": "李庚英",\n            "credit": "1.0",\n            "schedule": [\n                {\n                    "time": "双67",\n                    "begin_time": 14,\n                    "end_time": 15.4,\n                    "day": 2,\n                    "room": "E301",\n                    "week": 43690\n                }\n            ]\n        },\n        {\n            "id": "80652",\n            "name": "[ENC1103A]生物学导论",\n            "teacher": "游翠红",\n            "credit": "1.0",\n            "schedule": [\n                {\n                    "time": "单AB",\n                    "begin_time": 19.2,\n                    "end_time": 21,\n                    "day": 1,\n                    "room": "E306",\n                    "week": 21845\n                }\n            ]\n        },\n        {\n            "id": "80454",\n            "name": "[MAT1001A]微积分A-I",\n            "teacher": "杨忠强",\n            "credit": "4.0",\n            "schedule": [\n                {\n                    "time": "34",\n                    "begin_time": 10,\n                    "end_time": 11.4,\n                    "day": 2,\n                    "room": "E阶梯教室203",\n                    "week": 65535\n                },\n                {\n                    "time": "34",\n                    "begin_time": 10,\n                    "end_time": 11.4,\n                    "day": 4,\n                    "room": "E阶梯教室203",\n                    "week": 65535\n                }\n            ]\n        },\n        {\n            "id": "80283",\n            "name": "[SOC6110A]马克思主义基本原理",\n            "teacher": "程家明",\n            "credit": "3.0",\n            "schedule": [\n                {\n                    "time": "890",\n                    "begin_time": 16,\n                    "end_time": 18.35,\n                    "day": 2,\n                    "room": "E301",\n                    "week": 65535\n                }\n            ]\n        }\n    ],\n    "code": "0"\n}\n')])])]),n("p",[n("strong",[t._v("返回参数说明")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("year")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),n("td",[t._v("年份")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("semester")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),n("td",[t._v("学期")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("lessons")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Array")]),t._v(" "),n("td",[t._v("课程信息")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("code")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("错误码，0代表请求正常")])])])]),t._v(" "),n("p",[n("strong",[t._v("备注")])]),t._v(" "),n("h2",{attrs:{id:"获取用户信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取用户信息","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取用户信息")]),t._v(" "),n("p",[n("strong",[t._v("简要描述：")])]),t._v(" "),n("ul",[n("li",[t._v("获取用户信息，登陆后获取用户信息")])]),t._v(" "),n("p",[n("strong",[t._v("请求URL：")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("/user/info")])])]),t._v(" "),n("p",[n("strong",[t._v("请求方式：")])]),t._v(" "),n("ul",[n("li",[t._v("GET")])]),t._v(" "),n("p",[n("strong",[t._v("参数：")])]),t._v(" "),n("p",[n("strong",[t._v("注意")]),t._v("：该参数在headers处传入")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("Authorization")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("必选")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("传参格式："),n("code",[t._v("Bearer AccessToken")]),t._v("，中间用空格隔开，其中AccessToken为访问令牌")])])])]),t._v(" "),n("p",[n("strong",[t._v("返回示例")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('{\n    "user": {\n        "id": "15cthuang",\n        "info": {\n            "name": "黄村堂",\n            "student_num": "2015101054",\n            "sex": "男",\n            "education_level": "本科",\n            "education_year": "4",\n            "enrollment": "2015",\n            "education_type": "理科",\n            "college": "工学院",\n            "dorm": "思源书院",\n            "dorm_num": "302",\n            "state": "当前在校生",\n            "from": "广东省新会市"\n        }\n    },\n    "code": "0"\n}\n')])])]),n("p",[n("strong",[t._v("返回参数说明")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("user")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("Object")]),t._v(" "),n("td",[t._v("用户信息")])]),t._v(" "),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("code")]),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),n("td",[t._v("错误码，0为请求正常")])])])]),t._v(" "),n("p",[n("strong",[t._v("备注")])])])}],!1,null,null,null);e.default=a.exports}}]);